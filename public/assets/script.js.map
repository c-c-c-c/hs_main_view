{"version":3,"sources":["../../src/script/script.js"],"names":["WIDTH","HEIGHT","c_radian","r_radian","light","ambient","hsGeoGruoup","THREE","Group","renderer","WebGLRenderer","preserveDrawingBuffer","setSize","setClearColor","autoClearColor","document","body","appendChild","domElement","scene","Scene","camera","PerspectiveCamera","DirectionalLight","position","set","add","AmbientLight","scene_bg","camera_bg","OrthographicCamera","loader","JSONLoader","modelPath","model_hs","model_pn","mesh","load","geo","mat","geometry","material","scale_hs","BasicMat","MeshBasicMaterial","PhongMat","MeshPhongMaterial","color","Color","wireframe","Mesh","scale","opacity","transparent","p_geometry","PlaneGeometry","plane","colorConf","i","p_material","side","DoubleSide","y","z","bg_geometry","bg_material","bg","x","maxpoints","main","lookAt","rotation","render","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["\nvar WIDTH = 800;\nvar HEIGHT = 600;\nlet c_radian = 0;\nlet r_radian = 0;\nlet light;\nlet ambient;\nvar hsGeoGruoup = new THREE.Group();;\n\n// レンダラー\nlet renderer = new THREE.WebGLRenderer({\n  preserveDrawingBuffer:true\n});\nrenderer.setSize( WIDTH, HEIGHT );\nrenderer.setClearColor(0xffffff);\nrenderer.autoClearColor = false;\ndocument.body.appendChild(renderer.domElement);\n\n// メイン描画用のシーンとカメラ\nvar scene = new THREE.Scene();\nvar camera = new THREE.PerspectiveCamera( 70, WIDTH / HEIGHT, 1, 100 );\n\n//light\nlight = new THREE.DirectionalLight(0xffffff, 1);\nlight.position.set(0, 200, 80);\nscene.add(light);\nambient = new THREE.AmbientLight(0x404040);\nscene.add(ambient);\n\n//背景の定義\nvar scene_bg = new THREE.Scene();\nvar camera_bg = new THREE.OrthographicCamera(0, WIDTH, HEIGHT, 0, 0, 1000);\n// メイン描画オブジェクト、とりあえずBox\n\nlet loader = new THREE.JSONLoader();　　\nlet modelPath = '../src/data/hs300k.json'\n// modelPath = \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/1538236/hs300k.json\";\nlet model_hs;\nlet model_pn;\nvar mesh;\n\n\nloader.load(modelPath, (geo, mat) => {\n\tlet geometry = geo;\n\tlet material = mat;\n\tlet scale_hs = 1;\n  //let BasicMat = new THREE.MeshBasicMaterial(mat);\n  let BasicMat = new THREE.MeshBasicMaterial(mat);\n  let PhongMat = new THREE.MeshPhongMaterial(mat);\n  BasicMat.color = new THREE.Color(\"#ffffff\");\n  BasicMat.wireframe = true;\n\n  model_hs = new THREE.Mesh(geo, BasicMat);\n  model_pn = new THREE.Mesh(geo, PhongMat);\n\n\tmodel_hs.scale.set(scale_hs, scale_hs, scale_hs);\n\tmodel_pn.scale.set(scale_hs*1.05, scale_hs*1.05, scale_hs*1.05);\n\tmodel_pn.material.color = new THREE.Color(\"#cccccc\");\n\tmodel_hs.material.opacity =0.01;\n\tmodel_hs.material.transparent = true;\n\n\tlet p_geometry = new THREE.PlaneGeometry( 0.3, 0.2, 1 );\n\tlet plane = {};\n\n\t// ハンドスピナーとLEDライト５個をグループに\n\t// let hsGeoGruoup = new THREE.Group();\n\thsGeoGruoup.add(model_hs);\n\n\tconst colorConf =  {\n\t\t'0': '#ff0000',\n\t\t'1': '#f0f000',\n\t\t'2': '#00e000',\n\t\t'3': '#00ffff',\n\t\t'4': '#0000ff',\n\t}\n\n\tfor (let i=0;i < 5; i++) {\n\t\t//色を変更するため、マテリアルはfor文内で設定\n\t\tlet p_material = new THREE.MeshBasicMaterial( { side: THREE.DoubleSide} );\n\t\tplane[i] = new THREE.Mesh( p_geometry, p_material );\n\t\tplane[i].material.color = new THREE.Color(colorConf[i]);\n\t\t//平面の位置を少しずつずらす。\n\t\tplane[i].position.y =0.5*i;\n\t\t//画面に対する奥行き方向は変更なしで2\n\t\tplane[i].position.z =1.6;\n\n\n\n\n\t  // 先ほどのboxをグループに追加\n\t  hsGeoGruoup.add(plane[i]);\n\t  //hsGeoGruoup.add(model_pn);\n\t}\n\n\tscene.add( hsGeoGruoup );\n\n\n  var bg_geometry = new THREE.PlaneGeometry(WIDTH, HEIGHT, 10, 10);\n  var bg_material = new THREE.MeshBasicMaterial({\n    color: 0x000000,\n    transparent: true,\n    opacity: 0.01,\n  });\n\n\n  var bg = new THREE.Mesh(bg_geometry, bg_material);\n  bg.position.x = WIDTH/2;\n  bg.position.y = HEIGHT/2;\n  scene_bg.add(bg);\n\n\n\t//線の描画\n\tvar maxpoints = 30;\n\n  main();\n});\n\n\nfunction main() {\n\n\n\t//cameraの位置を設定\n\tcamera.position.set(0, 7, 0);\n\tcamera.lookAt({x:0, y:0, z:0 });\n\n\n  // model_hs.rotation.y +=.06;\n  hsGeoGruoup.rotation.y += 0.23 ;\n  //hsGeoGruoup.rotation.y += 5.9*(2*3.14 /40) ;\n\n\n\n\t// model_hs.position.y += (Math.sin(r_radian) - Math.sin(r_radian-0.01))*8;\n\t// model_pn.position.y += (Math.sin(r_radian) - Math.sin(r_radian-0.01))*8;\n\n  renderer.render( scene_bg, camera_bg );\n  renderer.render( scene, camera );\n\n  requestAnimationFrame(main);\n}\n"]}
{"version":3,"sources":["../../src/script/script.js"],"names":["WIDTH","HEIGHT","c_radian","r_radian","light","ambient","hsGeoGruoup","renderer","THREE","WebGLRenderer","preserveDrawingBuffer","setSize","setClearColor","autoClearColor","document","body","appendChild","domElement","scene","Scene","camera","PerspectiveCamera","DirectionalLight","position","set","add","AmbientLight","scene_bg","camera_bg","OrthographicCamera","loader","JSONLoader","modelPath","model_hs","model_pn","mesh","load","geo","mat","geometry","material","scale_hs","BasicMat","MeshBasicMaterial","PhongMat","MeshPhongMaterial","color","Color","wireframe","Mesh","scale","opacity","transparent","p_geometry","PlaneGeometry","p_material","side","DoubleSide","plane","rotation","x","y","z","Group","bg_geometry","bg_material","bg","maxpoints","main","lookAt","render","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["\nvar WIDTH = 800;\nvar HEIGHT = 600;\nlet c_radian = 0;\nlet r_radian = 0;\nlet light;\nlet ambient;\nvar hsGeoGruoup;\n\n// レンダラー\nlet renderer = new THREE.WebGLRenderer({\n  preserveDrawingBuffer:true\n});\nrenderer.setSize( WIDTH, HEIGHT );\nrenderer.setClearColor(0xffffff);\nrenderer.autoClearColor = false;\ndocument.body.appendChild(renderer.domElement);\n\n// メイン描画用のシーンとカメラ\nvar scene = new THREE.Scene();\nvar camera = new THREE.PerspectiveCamera( 70, WIDTH / HEIGHT, 1, 100 );\n\n//light\nlight = new THREE.DirectionalLight(0xffffff, 1);\nlight.position.set(0, 200, 80);\nscene.add(light);\nambient = new THREE.AmbientLight(0x404040);\nscene.add(ambient);\n\n//背景の定義\nvar scene_bg = new THREE.Scene();\nvar camera_bg = new THREE.OrthographicCamera(0, WIDTH, HEIGHT, 0, 0, 1000);\n// メイン描画オブジェクト、とりあえずBox\n\nlet loader = new THREE.JSONLoader();　　\nlet modelPath = '../src/data/hs300k.json'\n// modelPath = \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/1538236/hs300k.json\";\nlet model_hs;\nlet model_pn;\nvar mesh;\n\n\nloader.load(modelPath, (geo, mat) => {\n\tlet geometry = geo;\n\tlet material = mat;\n\tlet scale_hs = 1;\n  //let BasicMat = new THREE.MeshBasicMaterial(mat);\n  let BasicMat = new THREE.MeshBasicMaterial(mat);\n  let PhongMat = new THREE.MeshPhongMaterial(mat);\n  BasicMat.color = new THREE.Color(\"#ffffff\");\n  BasicMat.wireframe = true;\n\n  model_hs = new THREE.Mesh(geo, BasicMat);\n  model_pn = new THREE.Mesh(geo, PhongMat);\n\n\tmodel_hs.scale.set(scale_hs, scale_hs, scale_hs);\n\tmodel_pn.scale.set(scale_hs*1.05, scale_hs*1.05, scale_hs*1.05);\n\tmodel_pn.material.color = new THREE.Color(\"#cccccc\");\n\tmodel_hs.material.opacity =0.01;\n\tmodel_hs.material.transparent = true;\n\n\tlet p_geometry = new THREE.PlaneGeometry( 0.3, 0.1, 1 );\n\tlet p_material = new THREE.MeshBasicMaterial( {color: 0xff0000, side: THREE.DoubleSide} );\n\tlet plane = new THREE.Mesh( p_geometry, p_material );\n  plane.rotation.x =1.6;\n  plane.position.y =0.6;\n  plane.position.z =2;\n  // plane.position.x =2;\n\n\thsGeoGruoup = new THREE.Group();\n    // 先ほどのboxをグループに追加\n  hsGeoGruoup.add(plane);\n  //hsGeoGruoup.add(model_pn);\n  hsGeoGruoup.add(model_hs);\n\tscene.add( hsGeoGruoup );\n\n\t//scene.add(model_hs);　　\n\t//scene.add(model_pn);　　\n\n\n  // var box = new THREE.BoxGeometry(2, 2, 2);\n  // var mat = new THREE.MeshBasicMaterial({\n  //   color: 0xffffff,\n  //   wireframe: true\n  // });\n  // mesh = new THREE.Mesh(box, mat);\n  // scene.add(mesh);\n\n\n  // 背景オブジェクト用のシーンとメッシュ\n\n\n\n  var bg_geometry = new THREE.PlaneGeometry(WIDTH, HEIGHT, 10, 10);\n  var bg_material = new THREE.MeshBasicMaterial({\n    color: 0x000000,\n    transparent: true,\n    opacity: 0.01,\n  });\n\n\n  var bg = new THREE.Mesh(bg_geometry, bg_material);\n  bg.position.x = WIDTH/2;\n  bg.position.y = HEIGHT/2;\n  scene_bg.add(bg);\n\n\n\t//線の描画\n\tvar maxpoints = 30;\n\n  main();\n});\n\n\nfunction main() {\n\n\tr_radian += 0.01;\n\n\t//cameraの位置を設定\n\tcamera.position.set(0, 7, 0);\n\tcamera.lookAt({x:0, y:0, z:0 });\n  // model_hs.rotation.y +=.06;\n   hsGeoGruoup.rotation.y += 5.9*(2*3.14 /40) ;\n\t// model_hs.position.y += (Math.sin(r_radian) - Math.sin(r_radian-0.01))*8;\n\t// model_pn.position.y += (Math.sin(r_radian) - Math.sin(r_radian-0.01))*8;\n\n  renderer.render( scene_bg, camera_bg );\n  renderer.render( scene, camera );\n\n  requestAnimationFrame(main);\n}\n"]}